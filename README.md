# ë¦¬ì•¡íŠ¸ ì±„íŒ…ì•± (feat íŒŒì´ì–´ë² ì´ìŠ¤v9)

### ğŸ’ğŸ» 1. ì†Œê°œ
ì¸í”„ëŸ°ê°•ì¢Œ, ë¦¬ì•¡íŠ¸ì™€ íŒŒì´ì–´ë² ì´ìŠ¤ë¥¼ ì ìš©í•œ ì±„íŒ…ì•± ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°•ì¢Œë¥¼ ìˆ˜ê°•í•˜ë©°, í•™ìŠµí•œ ì½”ë“œ ì…ë‹ˆë‹¤.
ì¼ë¶€ ì½”ë“œë¥¼ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

---

### ğŸ˜€ 2. ê°•ì¢Œë¥¼ í†µí•´ ë°°ìš´ì 
ê°•ì¢Œì—ì„œ ì½”ë“œ(ë¦¬ì•¡íŠ¸) ì‘ë™í•˜ëŠ” ê²ƒ ì´ì™¸ì— ë°°ìš´ ë‚´ìš©ì„ ì •ë¦¬í•©ë‹ˆë‹¤.

+ ê³µí†µ
  + ë²„ì „ ì—…ê·¸ë ˆì´ë“œì— ë”°ë¥¸, ê¸°ì¡´ ì½”ë“œì˜ ì§€ì†ì ì¸ ìœ ì§€ ë³´ìˆ˜ê°€ í•„ìš”í•¨ 

+ ë¦¬ì•¡íŠ¸ 
  + ì»´í¬ë„ŒíŠ¸ ì´í•´(í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì™€ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì˜ ì°¨ì´)
    + ì½”ë“œì˜ ì¤„ ìˆ˜
      + ì½”ë“œ ê°€ë…ì„±    
    + thisë¥¼ í†µí•œ ê°’ ì°¸ì¡° 
  + ì»´í¬ë„ŒíŠ¸ ì‘ì„±ê³¼ ì¡°í•©(composition)
    + ì»´í¬ë„ŒíŠ¸ëŠ” í™•ì¥ìë¥¼ .jsxë¡œ ì¼ë°˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” .jsë¡œ ì‘ì„±
    + ì•„ë˜ ê°œì„ ì‚¬í•­ê³¼ ì—°ê²°
  + ìƒíƒœê´€ë¦¬(ë¦¬ë•ìŠ¤) ì‚¬ìš©ë°©ë²• ì´í•´
  + UI css-in-js ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ì— ì£¼ì˜
    + ë¹ ë¥´ê²Œ UIë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” ì¥ì ì´ ìˆìœ¼ë‚˜
    + ì§€ì†ì ì¸ UI ì»´í¬ë„ŒíŠ¸ ìœ ì§€ë³´ìˆ˜ ì‘ì—…ì´ í•„ìš”í•¨
      + ë²„ì „ì´ ë‹¬ë¼ì§€ê±°ë‚˜ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©ë²•(ì˜ˆ: ì»´í¬ë„ŒíŠ¸ì— í•„ìš”í•œ props ë„£ê¸°)ì´ ë‹¬ë¼ì§€ë©´, 
      + ì´ì „ ì •ì˜í•œ ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê±°ë‚˜ ë‹¤ë¥¸ ê²ƒìœ¼ë¡œ ë³€ê²½í•´ì•¼í•˜ëŠ” ìƒí™© ë°œìƒ
  
+ íŒŒì´ì–´ë² ì´ìŠ¤
  + íŒŒì´ì–´ë² ì´ìŠ¤ ì ìš©ë°©ë²•
  + íŒŒì´ì–´ë² ì´ìŠ¤ì˜ ê¸°ëŠ¥(ë¡œê·¸ì¸/DB) ê²½í—˜

+ ê·¸ì™¸ **(ê°œì¸ì  ì˜ê²¬)**
  + ì£¼ì„ì˜ ì¤‘ìš”ì„±
    + *ì£¼ì„ì´ ì—†ì„ ê²½ìš°*, ë³€ìˆ˜ë‚˜ í•¨ìˆ˜ì˜ ì˜ë¯¸ / ì»´í¬ë„ŒíŠ¸ì˜ íë¦„ê³¼ì •ì„ *ì´í•´í•˜ê¸° ì–´ë ¤ìš¸ ìˆ˜ ìˆë‹¤*
      + thisê°€ ìˆëŠ” ì½”ë“œì¼ ê²½ìš° ë”ë”ìš± ê·¸ë ‡ë‹¤
  + ì™¸ë¶€(export)ì—ì„œ í•¨ìˆ˜ë¥¼ ì •ì˜ í›„, import í•´ ì‚¬ìš©í•´ ê°€ë…ì„± ìœ ì§€   
    + í•¨ìˆ˜ ì •ì˜ì™€ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ”, í•¨ìˆ˜ í˜¸ì¶œì„ êµ¬ë¶„
      +  ìœ ì§€ë³´ìˆ˜ì„±ì„ ìœ„í•´
  + í™•ì‹¤í•˜ê²Œ(undefined ì•„ë‹ê²½ìš°), ì  ì—°ì‚°ì(.)ë¥¼ ë³´ë‹¤ëŠ” êµ¬ì¡°ë¶„í•´í• ë‹¹ìœ¼ë¡œ ì½”ë“œ ê°€ë…ì„± ìœ ì§€
 
---  
  
### ğŸ‘‹ğŸ» 3. ê°œì„ 
#### ê°•ì¢Œì—ì„œ ì„¤ëª…í•œ ì½”ë“œë¥¼ ë‹¤ë¥´ê²Œ ë³€ê²½í•œ ì‚¬ë¡€ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤.


+ ê°œì„  ì™„ë£Œí•œ ëª©ë¡
  + ğŸ”¨ê°œì„  1. jsxì—ì„œ (í•¨ìˆ˜ê°€ ì²˜ë¦¬ì™„ë£Œëœ) ê°’ì„ ë°”ë¡œ(ì„ ì–¸ì ìœ¼ë¡œ) return í•˜ì§€ ì•Šê³ , "ë‹¤ì‹œ" í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ ê·¸ ê°’ì„ return í•˜ëŠ” ê²½ìš°
    + ì‚¼í•­ì—°ì‚°ì, í•¨ìˆ˜ì˜ ë°˜í™˜ë‚´ìš©ì„ return ì•ˆìœ¼ë¡œ ì´ë™í•˜ì—¬ ì½”ë“œ ê°œì„    
  + ğŸ”¨ê°œì„  2. Switch êµ¬ë¬¸ì—ëŠ” ëª¨ë“  ì¡°ê±´ì´ ì‹¤íŒ¨ë  ê²½ìš°, ë§ˆì§€ë§‰ì— 'default'ì½”ë“œ ë¥¼ ì…ë ¥í•œë‹¤.
    + ì½”ë“œ default ì¶”ê°€ 
    + ì£¼ì„, // eslint-disable-next-line no-unused-expressions ì…ë ¥í•´ eslint ê²½ê³ ì œê±° 


#### ğŸ”¨ê°œì„  1. jsxì—ì„œ (í•¨ìˆ˜ê°€ ì²˜ë¦¬ì™„ë£Œëœ) ê°’ì„ ë°”ë¡œ(ì„ ì–¸ì ìœ¼ë¡œ) return í•˜ì§€ ì•Šê³ , "ë‹¤ì‹œ" í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ ê·¸ ê°’ì„ return í•˜ëŠ” ê²½ìš°

+ ê°œì„ ì´ìœ 
  + jsx íƒœê·¸ ë¶€ë¶„ì€ ì´ë¯¸ ì™„ë£Œëœ ê°’ì„ ë°˜í™˜í•˜ëŠ” ê³³(ë Œë”ë§ í•˜ëŠ” ê³³)ì´ë¼ê³  ìƒê°í•¨
  + jsxì˜ ê°€ë…ì„±ê³¼ ì½”ë“œ íë¦„ì„ ê°„í¸í•˜ê²Œ ì´í•´í•˜ê³  ì‹¶ì—ˆìŒ
  + returnì—ì„œ í•œë²ˆì— ë°˜í™˜í•˜ë©´ ë  ê²ƒì„, ì •ì˜ëœ í•¨ìˆ˜ì½”ë“œë¡œ ì´ë™í•´ì„œ (ì»´í¬ë„ŒíŠ¸ë¥¼) ë°˜í™˜í•˜ëŠ” ê³¼ì •ì´ ì–´ìƒ‰í•¨

+ ê°œì„ ì´ì „ 
  + jsxì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³ (í•¨ìˆ˜ì½”ë“œê°€ ì •ì˜ëœ ê³³ìœ¼ë¡œ ì—”ì§„ì´ ì´ë™) í˜¸ì¶œ ê°’ì„ jsxì—ì„œ ë³´ì—¬ì£¼ê¸°

``` javascript
{this.renderMessageSkeleton(messagesLoading)}
```

``` javascript
{searchTerm
            ? this.renderMessages(searchResults)
            : this.renderMessages(messages)}
```

``` javascript
{this.renderTypingUsers(typingUsers)}
```        
+ ê°œì„ ì´í›„
  + jsxì—ì„œ ì‚¼í•­ì—°ì‚°ìë¥¼ í†µí•´, í•¨ìˆ˜ì˜ ì¸ìê°’ìœ¼ë¡œ ê°’ì´ ë“¤ì–´ì˜¤ë©´/ë“¤ì–´ì˜¤ì§€ ì•Šìœ¼ë©´, í•¨ìˆ˜ì˜ ê²°ê´ê°’ì´ ë°˜í™˜ë˜ë„ë¡ ì½”ë“œ ë³€ê²½   

```javascript
{messagesLoading && (
  <>
      {[...Array(10)].map((v, i) => (
        <Skeleton key={i} />
      ))}
  </>
)}
```

```javascript
{searchTerm
  ? searchResults.length > 0 &&
      searchResults.map((result) => {
         return (
             <ul>
                <MessageSearch
                   key={this.props.user.id}
                   message={result}
                   user={this.props.user}
                />
             </ul>
                );
              })
  : messages.length > 0 &&
       messages.map((message) => {
          return (
             <ul style={{ paddingLeft: '-30px' }} key={this.props.user.id}>
                 <Message
                    key={this.props.user.id}
                    message={message}
                    user={this.props.user}
                 />
             </ul>
                );
  })}

```

```javascript
{typingUsers.length > 0 &&
  typingUsers.map((user) => (
    <span>{user.name.userUid}ë‹˜ì´ ì±„íŒ…ì„ ì…ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤...</span>
))}
```

#### [ì´ì „ì½”ë“œ]

``` javascript

<!------------ ì—¬ê¸°ë¶€í„° ------------>
renderMessages = (messages) =>
    messages.length > 0 &&
    messages.map((message) => (
      <Message
        key={message.timestamp}
        message={message}
        user={this.props.user}
      />
    ));

  renderTypingUsers = (typingUsers) => {
    return (
      typingUsers.length > 0 &&
      typingUsers.map((user) => (
        <span>{user.name.userUid}ë‹˜ì´ ì±„íŒ…ì„ ì…ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤...</span>
      ))
    );
  };
  
renderMessageSkeleton = (loading) =>
    loading && (
      <>
        {[...Array(10)].map((v, i) => (
          <Skeleton key={i} />
        ))}
      </>
    );
    
 <!------------ ì—¬ê¸°ê¹Œì§€ ë³€ê²½ë©ë‹ˆë‹¤. ------------>

  render() {
    const {
      messages,
      searchTerm,
      searchResults,
      typingUsers,
      messagesLoading,
    } = this.state;
    return (
      <div style={{ padding: '2rem 2rem 0 2rem' }}>
        <MessageHeader handleSearchChange={this.handleSearchChange} />

        <div
        -ì¤‘ëµ-
        >
        
        <!------------ ì—¬ê¸°ë¶€í„° ------------>
          {this.renderMessageSkeleton(messagesLoading)}

          {searchTerm
            ? this.renderMessages(searchResults)
            : this.renderMessages(messages)}

          {this.renderTypingUsers(typingUsers)}
          
        <!------------ ì—¬ê¸°ê¹Œì§€ ë³€ê²½ë©ë‹ˆë‹¤. ------------>
        
        </div>

        <MessageForm />
      </div>
    );
  }
```

#### [ê°œì„ ì½”ë“œ]

```javascript
<!------------ ì—¬ê¸°ë¶€í„°  ------------>
-í•¨ìˆ˜ì •ì˜ëœ ê³³-
<!------------ ì—¬ê¸°ê¹Œì§€ ì •ì˜ëœ í•¨ìˆ˜ê°€ ì‚­ì œëìŠµë‹ˆë‹¤. ------------>
 render() {
    const {
      messages,
      searchTerm,
      searchResults,
      typingUsers,
      messagesLoading,
    } = this.state;

    return (
      <div style={{ padding: '2rem 2rem 0 2rem' }}>
        <MessageHeader handleSearchChange={this.handleSearchChange} />
        <div
          style={{
            width: '100%',
            height: '450px',
            border: '.2rem solie #ececec',
            padding: '1rem',
            marginBottom: '1rem',
            overflow: 'auto',
          }}
        >
        <!------------ ê¸°ì¡´ í•¨ìˆ˜ê°€ ì—¬ê¸°ë¶€í„° ------------>
          {messagesLoading && (
            <>
              {[...Array(10)].map((v, i) => (
                <Skeleton key={i} />
              ))}
            </>
          )}

          {searchTerm
            ? searchResults.length > 0 &&
              searchResults.map((result) => {
                return (
                  <ul>
                    <MessageSearch
                      key={this.props.user.id}
                      message={result}
                      user={this.props.user}
                    />
                  </ul>
                );
              })
            : messages.length > 0 &&
              messages.map((message) => {
                return (
                  <ul style={{ paddingLeft: '-30px' }} key={this.props.user.id}>
                    <Message
                      key={this.props.user.id}
                      message={message}
                      user={this.props.user}
                    />
                  </ul>
                );
              })}

          {typingUsers.length > 0 &&
            typingUsers.map((user) => (
              <span>{user.name.userUid}ë‹˜ì´ ì±„íŒ…ì„ ì…ë ¥í•˜ê³  ìˆìŠµë‹ˆë‹¤...</span>
            ))}
            <!------------ ì—¬ê¸°ê¹Œì§€ ì˜ì—­ìœ¼ë¡œ ì´ë™ëìŠµë‹ˆë‹¤.  ------------>
          <div ref={(node) => (this.messageEndRef = node)} />
        </div>
        <MessageForm />
      </div>
    );
  }


```

#### ğŸ”¨ ê°œì„  2. Switch êµ¬ë¬¸ì—ëŠ” ëª¨ë“  ì¡°ê±´ì´ ì‹¤íŒ¨ë  ê²½ìš°, ë§ˆì§€ë§‰ì— 'default'ì½”ë“œ ë¥¼ ì…ë ¥í•œë‹¤.

### ìƒí™©
#### ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê¸°ëŠ¥ ì¤‘, "íŒŒì¼ì˜ ì—…ë¡œë“œ ë¹„ìœ¨(%) í”„ë¡œê·¸ë˜ìŠ¤ë°”'ëŠ” íŒŒì´ì–´ë² ì´ìŠ¤ v8 ë²„ì „ì˜ ì½”ë“œì…ë‹ˆë‹¤.
#### v9ë¡œ ë²„ì „ì´ ë³€ê²½ ë˜ë©´ì„œ, v9ë²„ì „ì˜ ì„¤ì • ì½”ë“œë¥¼ ì œê³µ ë°›ì•˜ëŠ”ë°, ì´ë¥¼ í”„ë¡œì íŠ¸ì— ***ê·¸ëŒ€ë¡œ*** ì ìš©í•´ eslint ê²½ê³ ë¥¼ ê²½í—˜í–ˆìŠµë‹ˆë‹¤.
#### íŒŒì´ì–´ë² ì´ìŠ¤ ê³µì‹ ë¬¸ì„œ(https://firebase.google.com/docs/storage/web/upload-files?hl=ko#web-version-9_6) ì¤‘, v9ë²„ì „ì˜ ì½”ë“œëŠ” default í‚¤ì›Œë“œê°€ ì—†ìŠµë‹ˆë‹¤.('error-code'ë¶€ë¶„)

### defalt-case ( https://eslint.org/docs/latest/rules/default-case )
#### Require default cases in switch statements

#### [ì´ì „ì½”ë“œ]
````javascript
 (snapshot) => {
  // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded
     const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
     console.log('Upload is ' + progress + '% done');
     switch (snapshot.state) {
         case 'paused':
               console.log('Upload is paused');
               break;
         case 'running':
               console.log('Upload is running');
               break;
      }
   },
   
   (error) => {
   // A full list of error codes is available at
   // https://firebase.google.com/docs/storage/web/handle-errors
      switch (error.code) {
          case 'storage/unauthorized':
             // User doesn't have permission to access the object
             break;
          case 'storage/canceled':
             // User canceled the upload
             break;
             // ...
          case 'storage/unknown':
             // Unknown error occurred, inspect error.serverResponse
             break;
       }
    },
  
```




````javascript

```





